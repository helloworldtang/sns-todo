<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorator="layout/default">
<head>
    <title>TodoList</title>
</head>
<body>

<a id="addNew" onclick="addNew()">add new Todo</a>

<div class="row" layout:fragment="content">

    <h2 class="indigo-text center">Todolist Detail</h2>
    <div class="row" th:each="item:${list}">
        <div class="col s6">
            ID: <input id="todoId" type="text" th:text="${item.id}"/>
            type: <input type="text" th:text="${item.type}"/>
            digest: <input type="text" th:text="${item.digest}"/>
            content: <input type="text" th:text="${item.content}"/>
            finished: <input type="text" th:text="${item.finished}"/>
            createTime:<input type="text" th:text="${#dates.format(item.createTime,'yyyy/MM/dd HH:mm')}"/>
            <a onclick="finish()">
                完成
            </a>
        </div>
    </div>
</div>

<script layout:fragment="script">
    function finish() {
        $.post("/web/v1/user/todo/" + $('#todoId').value,
            function (data, status) {
                window.location.reload();
            }
        );
    }
    function addNew() {

    }
</script>

</body>
</html>